<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>AffineConstructive.tactics.set_internalize</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library AffineConstructive.tactics.set_internalize</h1>

<div class="code">
</div>

<div class="doc">

<div class="paragraph"> </div>

  Because the functions
<pre>
       set_T : set → Type 
       func_op : ∀ X Y : set, func X Y → ( set_T X → set_T Y )
</pre>

<div class="paragraph"> </div>

  comprising the forgetful functor U : 𝐬𝐞𝐭 → 𝐓𝐲𝐩𝐞 are coercions,
  we can write, e.g.,

<div class="paragraph"> </div>

     <span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">λ</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="AffineConstructive.interfaces.free.groups.html#free_additive_group.X"><span class="id" title="projection">X</span></a></span> <span class="inlinecode">,</span> <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"></span>

<div class="paragraph"> </div>

  in a context where <span class="inlinecode"></span> <span class="inlinecode"><a class="idref" href="AffineConstructive.interfaces.free.groups.html#free_additive_group.X"><span class="id" title="projection">X</span></a></span> <span class="inlinecode"><a class="idref" href="AffineConstructive.implementations.signed_naturals_integers.html#signed_naturals.Z"><span class="id" title="definition">Z</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"></span>, <span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="AffineConstructive.interfaces.free.groups.html#free_additive_group.X"><span class="id" title="projection">X</span></a></span> <span class="inlinecode">⇾</span> <span class="inlinecode"><a class="idref" href="AffineConstructive.interfaces.free.groups.html#free_additive_group.X"><span class="id" title="projection">X</span></a></span> <span class="inlinecode">⇾</span> <span class="inlinecode"><a class="idref" href="AffineConstructive.implementations.signed_naturals_integers.html#signed_naturals.Z"><span class="id" title="definition">Z</span></a></span> <span class="inlinecode"></span>. That is, the
  internal language of 𝐬𝐞𝐭 is valid syntax. However, the type of the above
  term is not <span class="inlinecode"></span> <span class="inlinecode"><a class="idref" href="AffineConstructive.interfaces.free.groups.html#free_additive_group.X"><span class="id" title="projection">X</span></a></span> <span class="inlinecode">⇾</span> <span class="inlinecode"><a class="idref" href="AffineConstructive.interfaces.free.groups.html#free_additive_group.X"><span class="id" title="projection">X</span></a></span> <span class="inlinecode">⇾</span> <span class="inlinecode"><a class="idref" href="AffineConstructive.implementations.signed_naturals_integers.html#signed_naturals.Z"><span class="id" title="definition">Z</span></a></span> <span class="inlinecode"></span>, a morphism in 𝐬𝐞𝐭, but rather
  <span class="inlinecode"></span> <span class="inlinecode"><a class="idref" href="AffineConstructive.interfaces.set.html#set_T"><span class="id" title="projection">set_T</span></a></span> <span class="inlinecode"><a class="idref" href="AffineConstructive.interfaces.free.groups.html#free_additive_group.X"><span class="id" title="projection">X</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="AffineConstructive.interfaces.set.html#set_T"><span class="id" title="projection">set_T</span></a></span> <span class="inlinecode"><a class="idref" href="AffineConstructive.interfaces.free.groups.html#free_additive_group.X"><span class="id" title="projection">X</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="AffineConstructive.interfaces.set.html#set_T"><span class="id" title="projection">set_T</span></a></span> <span class="inlinecode"><a class="idref" href="AffineConstructive.implementations.signed_naturals_integers.html#signed_naturals.Z"><span class="id" title="definition">Z</span></a></span> <span class="inlinecode"></span>, the underlying function in 𝐓𝐲𝐩𝐞.
  That is, when we write a term designating a morphism g in the internal
  language of 𝐬𝐞𝐭, Coq inserts coercions and we recover only U g. The idea
  of the <span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="library">set_internalize</span></span> <span class="inlinecode"></span> tactic implemented below is to recover
  <span class="inlinecode"></span> <span class="inlinecode"><a class="idref" href="AffineConstructive.implementations.list.prod.html#g"><span class="id" title="abbreviation">g</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="AffineConstructive.interfaces.free.groups.html#free_additive_group.X"><span class="id" title="projection">X</span></a></span> <span class="inlinecode">⇾</span> <span class="inlinecode"><a class="idref" href="AffineConstructive.interfaces.free.groups.html#free_additive_group.X"><span class="id" title="projection">X</span></a></span> <span class="inlinecode">⇾</span> <span class="inlinecode"><a class="idref" href="AffineConstructive.implementations.signed_naturals_integers.html#signed_naturals.Z"><span class="id" title="definition">Z</span></a></span> <span class="inlinecode"></span> by inspecting syntax, essentially by implementing a
  model of the categorical semantics of 𝐬𝐞𝐭.

<div class="paragraph"> </div>

  Typing judgments

<div class="paragraph"> </div>

     Ξ | Γ ⊢ t : X

<div class="paragraph"> </div>

  are interpretted as functions

<div class="paragraph"> </div>

     ⟦ Ξ ⟧ → ⟦ Γ ⟧ ⇾ X.

<div class="paragraph"> </div>

  Some of the most important typing rules are
<pre>

  Ξ | Γ, Θ ⊢ t : X     Ξ | Δ, Θ ⊢ u : Y    Θ empty / has affirmative equality
  ───────────────────────────────────────────────────────────────────────────
                          Ξ | Γ, Θ, Δ ⊢ (t, u) : X ⊗ Y               (⊗-pairs)

  Ξ | Γ, Θ ⊢ t : X     Ξ | Δ, Θ ⊢ u : Y
  ─────────────────────────────────────     (×-pairs)
      Ξ | Γ, Θ, Δ ⊢ (t, u) : X × Y


   Ξ | Γ, x : X ⊢ t : Y
  ──────────────────────      (abstraction)
  Ξ | Γ ⊢ λ x, t : X ⇾ Y


   Ξ | Γ ⊢ (f, x) : (X' ⇾ Y) ⊗ X       X coercable to X'
  ──────────────────────────────────────────────────────    (application)
                      Ξ | Γ ⊢ f x : Y


   Ξ, x : X | Γ ⊢ t : Ω             Ξ, x : X | Γ ⊢ t : Ω
  ──────────────────────           ──────────────────────   (quantification)
    Ξ | Γ ⊢ ∏ x, t : Ω              Ξ | Γ ⊢ ∐ x, t : Ω

</pre>
  Each of these is implemented by some term mapping interpretations of
  the judgements above the line to an interpretation of the judgement below.

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="AffineConstructive.interfaces.sprop.html#"><span class="id" title="library">sprop</span></a> <a class="idref" href="AffineConstructive.logic.aprop.html#"><span class="id" title="library">logic.aprop</span></a> <a class="idref" href="AffineConstructive.logic.relations.html#"><span class="id" title="library">relations</span></a> <a class="idref" href="AffineConstructive.theory.set.html#"><span class="id" title="library">theory.set</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="AffineConstructive.interfaces.set_lambda.notation.html#"><span class="id" title="library">interfaces.set_lambda.notation</span></a> <a class="idref" href="AffineConstructive.interfaces.subset.notation.html#"><span class="id" title="library">interfaces.subset.notation</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="AffineConstructive.tactics.easy.html#"><span class="id" title="library">easy</span></a> <a class="idref" href="AffineConstructive.tactics.rewrite.rewrite.html#"><span class="id" title="library">rewrite</span></a> <a class="idref" href="AffineConstructive.tactics.misc.html#"><span class="id" title="library">tactics.misc</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#projection_notation"><span class="id" title="module">projection_notation</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="AffineConstructive.theory.set.html#tensor_map_notation"><span class="id" title="module">tensor_map_notation</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="AffineConstructive.theory.set.html#of_course_set_notation"><span class="id" title="module">of_course_set_notation</span></a>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">fun_inv_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Local Notation</span> <a id="ab410a966ac148e9b78c65c6cdf301fd" class="idref" href="#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="abbreviation">α</span></a> := (<a class="idref" href="AffineConstructive.theory.set.html#tensor_assoc_l"><span class="id" title="definition">tensor_assoc_l</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Local Notation</span> <a id="507873e5bd221a1749fe06ffe9c1f92c" class="idref" href="#507873e5bd221a1749fe06ffe9c1f92c"><span class="id" title="abbreviation">u</span></a><a id="507873e5bd221a1749fe06ffe9c1f92c" class="idref" href="#507873e5bd221a1749fe06ffe9c1f92c"><span class="id" title="abbreviation">ₗ</span></a> := (<a class="idref" href="AffineConstructive.theory.set.html#tensor_unit_l"><span class="id" title="definition">tensor_unit_l</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Local Notation</span> <a id="827bf38f37abcc9bbebbd269563c6cd9" class="idref" href="#827bf38f37abcc9bbebbd269563c6cd9"><span class="id" title="abbreviation">u</span></a><a id="827bf38f37abcc9bbebbd269563c6cd9" class="idref" href="#827bf38f37abcc9bbebbd269563c6cd9"><span class="id" title="abbreviation">ᵣ</span></a> := (<a class="idref" href="AffineConstructive.theory.set.html#tensor_unit_r"><span class="id" title="definition">tensor_unit_r</span></a> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Environment" class="idref" href="#Environment"><span class="id" title="inductive">Environment@</span></a>{<span class="id" title="var">i</span>} :=<br/>
| <a id="Environment_Empty" class="idref" href="#Environment_Empty"><span class="id" title="constructor">Environment_Empty</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment:1"><span class="id" title="inductive">Environment</span></a><br/>
| <a id="Environment_Cons" class="idref" href="#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> (<a id="55485d85e29df2faa6748490a2d4cd13" class="idref" href="#55485d85e29df2faa6748490a2d4cd13"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment:1"><span class="id" title="inductive">Environment</span></a>) (<a id="X:4" class="idref" href="#X:4"><span class="id" title="binder">X</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>) (<a id="x:5" class="idref" href="#x:5"><span class="id" title="binder">x</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:4"><span class="id" title="variable">X</span></a>) : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment:1"><span class="id" title="inductive">Environment</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="notation" class="idref" href="#notation"><span class="id" title="module">notation</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="97e0297562de671a428722d4d24c9281" class="idref" href="#97e0297562de671a428722d4d24c9281"><span class="id" title="notation">&quot;</span></a>⦃⦄" := <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Empty"><span class="id" title="constructor">Environment_Empty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="c3c486034127270478d2f6e131cc7324" class="idref" href="#c3c486034127270478d2f6e131cc7324"><span class="id" title="notation">&quot;</span></a>Γ ,, x" := (<a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="notation.Environment_Cons_op" class="idref" href="#notation.Environment_Cons_op"><span class="id" title="abbreviation">Environment_Cons_op</span></a> <span class="id" title="var">x</span> <span class="id" title="var">Γ</span> := (<a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="a21406fc3467cb95550b7f32b6b7463b" class="idref" href="#a21406fc3467cb95550b7f32b6b7463b"><span class="id" title="notation">&quot;</span></a>⦃ x , .. , y ⦄" := (<a class="idref" href="AffineConstructive.tactics.set_internalize.html#notation.Environment_Cons_op"><span class="id" title="abbreviation">Environment_Cons_op</span></a> <span class="id" title="var">y</span> (.. (<a class="idref" href="AffineConstructive.tactics.set_internalize.html#notation.Environment_Cons_op"><span class="id" title="abbreviation">Environment_Cons_op</span></a> <span class="id" title="var">x</span> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Empty"><span class="id" title="constructor">Environment_Empty</span></a>) ..)).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#notation"><span class="id" title="module">notation</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#notation"><span class="id" title="module">notation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">debug_msg</span> <span class="id" title="var">tac</span> := <span class="id" title="tactic">idtac</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">env_dom</span> <span class="id" title="var">Γ</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Empty"><span class="id" title="constructor">Environment_Empty</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.set.html#unit_set"><span class="id" title="definition">unit_set</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> ?<span class="id" title="var">Γ'</span> ?<span class="id" title="var">X</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">D</span> := <span class="id" title="var">env_dom</span> <span class="id" title="var">Γ'</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">D</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">env_reify</span> <span class="id" title="var">Γ</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Empty"><span class="id" title="constructor">Environment_Empty</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.prelude.html#tt"><span class="id" title="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> ?<span class="id" title="var">Γ'</span> ?<span class="id" title="var">X</span> ?<span class="id" title="var">x</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">p</span> := <span class="id" title="var">env_reify</span> <span class="id" title="var">Γ'</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="env_split_cons" class="idref" href="#env_split_cons"><span class="id" title="definition">env_split_cons@</span></a>{<span class="id" title="var">i</span>} {<a id="D:6" class="idref" href="#D:6"><span class="id" title="binder">D</span></a> <a id="D':7" class="idref" href="#D':7"><span class="id" title="binder">D'</span></a> <a id="X:8" class="idref" href="#X:8"><span class="id" title="binder">X</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} (<a id="p:9" class="idref" href="#p:9"><span class="id" title="binder">p</span></a>:<a class="idref" href="AffineConstructive.tactics.set_internalize.html#D':7"><span class="id" title="variable">D'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:8"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#D:6"><span class="id" title="variable">D</span></a>) <a id="Y:10" class="idref" href="#Y:10"><span class="id" title="binder">Y</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#D':7"><span class="id" title="variable">D'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:10"><span class="id" title="variable">Y</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:8"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#D:6"><span class="id" title="variable">D</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:10"><span class="id" title="variable">Y</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#p:9"><span class="id" title="variable">p</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.prelude.html#id"><span class="id" title="definition">id</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#tensor_swap_tail"><span class="id" title="definition">tensor_swap_tail</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">env_split</span> <span class="id" title="var">Γ</span> <span class="id" title="var">var</span> :=<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Empty"><span class="id" title="constructor">Environment_Empty</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.sprop.html#False"><span class="id" title="inductive">False</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> ?<span class="id" title="var">Γ'</span> ?<span class="id" title="var">X</span> <span class="id" title="var">var</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">D</span> := <span class="id" title="var">env_dom</span> <span class="id" title="var">Γ</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#id_fun"><span class="id" title="definition">id_fun</span></a> <span class="id" title="var">D</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> ?<span class="id" title="var">Γ'</span> ?<span class="id" title="var">X</span> ?<span class="id" title="var">x</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">env_split</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">var</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.sprop.html#False"><span class="id" title="inductive">False</span></a> ⇒ <span class="id" title="var">res</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> ?<span class="id" title="var">Γ''</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">p</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> <span class="id" title="var">Γ''</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#env_split_cons"><span class="id" title="definition">env_split_cons</span></a> <span class="id" title="var">p</span> <span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="env_union_base" class="idref" href="#env_union_base"><span class="id" title="definition">env_union_base@</span></a>{<span class="id" title="var">i</span>} (<a id="23b343961b75c91ab8529a041c031a1d" class="idref" href="#23b343961b75c91ab8529a041c031a1d"><span class="id" title="binder">Δ</span></a>:<a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>) : <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#23b343961b75c91ab8529a041c031a1d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#23b343961b75c91ab8529a041c031a1d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#23b343961b75c91ab8529a041c031a1d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#23b343961b75c91ab8529a041c031a1d"><span class="id" title="variable">Δ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">refine</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>.<br/>
+ <span class="id" title="tactic">refine</span> <a class="idref" href="AffineConstructive.interfaces.set.html#de6d8cdcd642cf06212a905c2e2f59ef"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#827bf38f37abcc9bbebbd269563c6cd9"><span class="id" title="abbreviation">u</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#827bf38f37abcc9bbebbd269563c6cd9"><span class="id" title="abbreviation">ᵣ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#827bf38f37abcc9bbebbd269563c6cd9"><span class="id" title="abbreviation">u</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#827bf38f37abcc9bbebbd269563c6cd9"><span class="id" title="abbreviation">ᵣ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#de6d8cdcd642cf06212a905c2e2f59ef"><span class="id" title="notation">)</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#de6d8cdcd642cf06212a905c2e2f59ef"><span class="id" title="notation">⁻¹</span></a>.<br/>
+ <span class="id" title="tactic">refine</span> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#827bf38f37abcc9bbebbd269563c6cd9"><span class="id" title="abbreviation">u</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#827bf38f37abcc9bbebbd269563c6cd9"><span class="id" title="abbreviation">ᵣ</span></a>.<br/>
+ <span class="id" title="tactic">refine</span> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#827bf38f37abcc9bbebbd269563c6cd9"><span class="id" title="abbreviation">u</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#827bf38f37abcc9bbebbd269563c6cd9"><span class="id" title="abbreviation">ᵣ</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="env_union_left" class="idref" href="#env_union_left"><span class="id" title="definition">env_union_left@</span></a>{<span class="id" title="var">i</span>} {<a id="7adcac760179e19a0bb37c9e1720bc22" class="idref" href="#7adcac760179e19a0bb37c9e1720bc22"><span class="id" title="binder">Γ</span></a> <a id="e0faa87657dc21b78591e155da331111" class="idref" href="#e0faa87657dc21b78591e155da331111"><span class="id" title="binder">Δ</span></a> <a id="ec3ffd73503cf7558c1d4b3b310808a3" class="idref" href="#ec3ffd73503cf7558c1d4b3b310808a3"><span class="id" title="binder">Ξ</span></a> <a id="1663f0c434ab65eb95cc7f7b6dff1019" class="idref" href="#1663f0c434ab65eb95cc7f7b6dff1019"><span class="id" title="binder">Θ</span></a> <a id="51f078396467a7dd262ca5718e1274bb" class="idref" href="#51f078396467a7dd262ca5718e1274bb"><span class="id" title="binder">Δ'</span></a> <a id="1970738b6c7c57c81cad996cac2edd0d" class="idref" href="#1970738b6c7c57c81cad996cac2edd0d"><span class="id" title="binder">Θ'</span></a> <a id="eb93d3cfc26e3ff33871423f0ffd0900" class="idref" href="#eb93d3cfc26e3ff33871423f0ffd0900"><span class="id" title="binder">Δ''</span></a> <a id="X:19" class="idref" href="#X:19"><span class="id" title="binder">X</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#7adcac760179e19a0bb37c9e1720bc22"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#eb93d3cfc26e3ff33871423f0ffd0900"><span class="id" title="variable">Δ''</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#ec3ffd73503cf7558c1d4b3b310808a3"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#1970738b6c7c57c81cad996cac2edd0d"><span class="id" title="variable">Θ'</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#eb93d3cfc26e3ff33871423f0ffd0900"><span class="id" title="variable">Δ''</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#ec3ffd73503cf7558c1d4b3b310808a3"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#51f078396467a7dd262ca5718e1274bb"><span class="id" title="variable">Δ'</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#1970738b6c7c57c81cad996cac2edd0d"><span class="id" title="variable">Θ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#ec3ffd73503cf7558c1d4b3b310808a3"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#1663f0c434ab65eb95cc7f7b6dff1019"><span class="id" title="variable">Θ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a><br/>
&nbsp;<a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#51f078396467a7dd262ca5718e1274bb"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:19"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e0faa87657dc21b78591e155da331111"><span class="id" title="variable">Δ</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;<a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#7adcac760179e19a0bb37c9e1720bc22"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:19"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#eb93d3cfc26e3ff33871423f0ffd0900"><span class="id" title="variable">Δ''</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#ec3ffd73503cf7558c1d4b3b310808a3"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:19"><span class="id" title="variable">X</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#1970738b6c7c57c81cad996cac2edd0d"><span class="id" title="variable">Θ'</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#eb93d3cfc26e3ff33871423f0ffd0900"><span class="id" title="variable">Δ''</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#ec3ffd73503cf7558c1d4b3b310808a3"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:19"><span class="id" title="variable">X</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e0faa87657dc21b78591e155da331111"><span class="id" title="variable">Δ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#1970738b6c7c57c81cad996cac2edd0d"><span class="id" title="variable">Θ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#ec3ffd73503cf7558c1d4b3b310808a3"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:19"><span class="id" title="variable">X</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#1663f0c434ab65eb95cc7f7b6dff1019"><span class="id" title="variable">Θ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:19"><span class="id" title="variable">X</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [[<span class="id" title="var">f</span> <span class="id" title="var">g</span>]<span class="id" title="var">h</span>] <span class="id" title="var">p</span>. <span class="id" title="tactic">refine</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>.<br/>
+ <span class="id" title="tactic">refine</span> (<a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="abbreviation">α</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.prelude.html#id"><span class="id" title="definition">id</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#tensor_swap_tail"><span class="id" title="definition">tensor_swap_tail</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><span class="id" title="var">f</span><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.prelude.html#id"><span class="id" title="definition">id</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a>).<br/>
+ <span class="id" title="tactic">refine</span> (<span class="id" title="var">p</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><span class="id" title="var">g</span><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.prelude.html#id"><span class="id" title="definition">id</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="abbreviation">α⁻¹</span></a>).<br/>
+ <span class="id" title="tactic">refine</span> (<a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><span class="id" title="var">h</span><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.prelude.html#id"><span class="id" title="definition">id</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="abbreviation">α⁻¹</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="env_union_right" class="idref" href="#env_union_right"><span class="id" title="definition">env_union_right@</span></a>{<span class="id" title="var">i</span>} {<a id="5072e11836a76219245d89c98ca72259" class="idref" href="#5072e11836a76219245d89c98ca72259"><span class="id" title="binder">Γ</span></a> <a id="531c023394dd914fd03e5fa3ca768114" class="idref" href="#531c023394dd914fd03e5fa3ca768114"><span class="id" title="binder">Δ</span></a> <a id="4f974f7de00219858f74db3f31477835" class="idref" href="#4f974f7de00219858f74db3f31477835"><span class="id" title="binder">Ξ</span></a> <a id="de3873d556371d23cc7ce4026cc26121" class="idref" href="#de3873d556371d23cc7ce4026cc26121"><span class="id" title="binder">Θ</span></a> <a id="4703434a5701ad93e2577e843fa6d86a" class="idref" href="#4703434a5701ad93e2577e843fa6d86a"><span class="id" title="binder">Δ'</span></a> <a id="d100f8f95847dfcbe7916a9cc3aefc8c" class="idref" href="#d100f8f95847dfcbe7916a9cc3aefc8c"><span class="id" title="binder">Θ'</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} (<a id="X:26" class="idref" href="#X:26"><span class="id" title="binder">X</span></a>:<a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#5072e11836a76219245d89c98ca72259"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#4703434a5701ad93e2577e843fa6d86a"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#4f974f7de00219858f74db3f31477835"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#d100f8f95847dfcbe7916a9cc3aefc8c"><span class="id" title="variable">Θ'</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#4703434a5701ad93e2577e843fa6d86a"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#4f974f7de00219858f74db3f31477835"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#531c023394dd914fd03e5fa3ca768114"><span class="id" title="variable">Δ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#d100f8f95847dfcbe7916a9cc3aefc8c"><span class="id" title="variable">Θ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#4f974f7de00219858f74db3f31477835"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#de3873d556371d23cc7ce4026cc26121"><span class="id" title="variable">Θ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a><br/>
&nbsp;<a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#5072e11836a76219245d89c98ca72259"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:26"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#4703434a5701ad93e2577e843fa6d86a"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#4f974f7de00219858f74db3f31477835"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#d100f8f95847dfcbe7916a9cc3aefc8c"><span class="id" title="variable">Θ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:26"><span class="id" title="variable">X</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">))</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#4703434a5701ad93e2577e843fa6d86a"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#4f974f7de00219858f74db3f31477835"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#531c023394dd914fd03e5fa3ca768114"><span class="id" title="variable">Δ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">((</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#d100f8f95847dfcbe7916a9cc3aefc8c"><span class="id" title="variable">Θ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:26"><span class="id" title="variable">X</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#4f974f7de00219858f74db3f31477835"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#de3873d556371d23cc7ce4026cc26121"><span class="id" title="variable">Θ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:26"><span class="id" title="variable">X</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [[<span class="id" title="var">f</span> <span class="id" title="var">g</span>]<span class="id" title="var">h</span>]. <span class="id" title="tactic">refine</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>.<br/>
+ <span class="id" title="tactic">exact</span> (<a class="idref" href="AffineConstructive.tactics.set_internalize.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="abbreviation">α</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><span class="id" title="var">f</span><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.prelude.html#id"><span class="id" title="definition">id</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a>).<br/>
+ <span class="id" title="tactic">refine</span> (<a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><span class="id" title="var">h</span><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.prelude.html#id"><span class="id" title="definition">id</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#tensor_swap_tail"><span class="id" title="definition">tensor_swap_tail</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">env_union_rec</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Θ</span> :=<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">Θ</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Empty"><span class="id" title="constructor">Environment_Empty</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">D</span> := <span class="id" title="var">env_dom</span> <span class="id" title="var">Δ</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#env_union_base"><span class="id" title="definition">env_union_base</span></a> <span class="id" title="var">D</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> ?<span class="id" title="var">Θ'</span> ?<span class="id" title="var">X</span> ?<span class="id" title="var">x</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">env_split</span> <span class="id" title="var">Δ</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Δ'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">p</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">env_union_rec</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">Θ'</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Γ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">u</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#env_union_left"><span class="id" title="definition">env_union_left</span></a> <span class="id" title="var">u</span> <span class="id" title="var">p</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.sprop.html#False"><span class="id" title="inductive">False</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">env_union_rec</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Θ'</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Γ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">u</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#env_union_right"><span class="id" title="definition">env_union_right</span></a> <span class="id" title="var">X</span> <span class="id" title="var">u</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="env_union_share" class="idref" href="#env_union_share"><span class="id" title="definition">env_union_share@</span></a>{<span class="id" title="var">i</span>} {<a id="4832fec869a4ebb2d0fe43325389536a" class="idref" href="#4832fec869a4ebb2d0fe43325389536a"><span class="id" title="binder">Γ</span></a> <a id="429bde08aec4510dd7c009bdb80fa47b" class="idref" href="#429bde08aec4510dd7c009bdb80fa47b"><span class="id" title="binder">Δ</span></a> <a id="809b66be7514b30ffabb66713b7c1c7c" class="idref" href="#809b66be7514b30ffabb66713b7c1c7c"><span class="id" title="binder">Ξ</span></a> <a id="2e041bbe19479aaab4e668546abd7b12" class="idref" href="#2e041bbe19479aaab4e668546abd7b12"><span class="id" title="binder">Θ</span></a> <a id="8719693952893ed3a7b3201feb143dc0" class="idref" href="#8719693952893ed3a7b3201feb143dc0"><span class="id" title="binder">Δ'</span></a> <a id="e92166086ad181632c75bc0e67120a67" class="idref" href="#e92166086ad181632c75bc0e67120a67"><span class="id" title="binder">Θ'</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#4832fec869a4ebb2d0fe43325389536a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#8719693952893ed3a7b3201feb143dc0"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#809b66be7514b30ffabb66713b7c1c7c"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e92166086ad181632c75bc0e67120a67"><span class="id" title="variable">Θ'</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#8719693952893ed3a7b3201feb143dc0"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#809b66be7514b30ffabb66713b7c1c7c"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#429bde08aec4510dd7c009bdb80fa47b"><span class="id" title="variable">Δ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#e92166086ad181632c75bc0e67120a67"><span class="id" title="variable">Θ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#809b66be7514b30ffabb66713b7c1c7c"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#2e041bbe19479aaab4e668546abd7b12"><span class="id" title="variable">Θ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#4832fec869a4ebb2d0fe43325389536a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#429bde08aec4510dd7c009bdb80fa47b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#2e041bbe19479aaab4e668546abd7b12"><span class="id" title="variable">Θ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [[<span class="id" title="var">f</span> <span class="id" title="var">g</span>]<span class="id" title="var">h</span>]. <span class="id" title="tactic">refine</span> (<a class="idref" href="AffineConstructive.theory.set.html#to_prod"><span class="id" title="definition">to_prod</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">g</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#tensor_proj1"><span class="id" title="definition">tensor_proj1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">h</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="AffineConstructive.theory.set.html#tensor_proj2"><span class="id" title="definition">tensor_proj2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="abbreviation">α</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#tensor_swap_tail"><span class="id" title="definition">tensor_swap_tail</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="env_union_copy" class="idref" href="#env_union_copy"><span class="id" title="definition">env_union_copy@</span></a>{<span class="id" title="var">i</span>} {<a id="3661fdf62dabbfc4878efd8bfc8bcb25" class="idref" href="#3661fdf62dabbfc4878efd8bfc8bcb25"><span class="id" title="binder">Γ</span></a> <a id="aa433282953bfe1853d4096d66b72ef4" class="idref" href="#aa433282953bfe1853d4096d66b72ef4"><span class="id" title="binder">Δ</span></a> <a id="afbbb59a71ea1b912349c76279601af8" class="idref" href="#afbbb59a71ea1b912349c76279601af8"><span class="id" title="binder">Ξ</span></a> <a id="67d344eafefa91f3be7aff0ef8b6d402" class="idref" href="#67d344eafefa91f3be7aff0ef8b6d402"><span class="id" title="binder">Θ</span></a> <a id="da115bfb8427580e7814733415e307f2" class="idref" href="#da115bfb8427580e7814733415e307f2"><span class="id" title="binder">Δ'</span></a> <a id="58aee85e2f0fdde56a981963b2e75156" class="idref" href="#58aee85e2f0fdde56a981963b2e75156"><span class="id" title="binder">Θ'</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} `{<a id="AffirmativeEquality0:39" class="idref" href="#AffirmativeEquality0:39"><span class="id" title="binder">!</span></a><a id="AffirmativeEquality0:39" class="idref" href="#AffirmativeEquality0:39"><span class="id" title="binder">AffirmativeEquality</span></a> <a id="AffirmativeEquality0:39" class="idref" href="#AffirmativeEquality0:39"><span class="id" title="binder">Ξ</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#3661fdf62dabbfc4878efd8bfc8bcb25"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#da115bfb8427580e7814733415e307f2"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#afbbb59a71ea1b912349c76279601af8"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#58aee85e2f0fdde56a981963b2e75156"><span class="id" title="variable">Θ'</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#da115bfb8427580e7814733415e307f2"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#afbbb59a71ea1b912349c76279601af8"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#aa433282953bfe1853d4096d66b72ef4"><span class="id" title="variable">Δ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#58aee85e2f0fdde56a981963b2e75156"><span class="id" title="variable">Θ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#afbbb59a71ea1b912349c76279601af8"><span class="id" title="variable">Ξ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#67d344eafefa91f3be7aff0ef8b6d402"><span class="id" title="variable">Θ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#3661fdf62dabbfc4878efd8bfc8bcb25"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#aa433282953bfe1853d4096d66b72ef4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#67d344eafefa91f3be7aff0ef8b6d402"><span class="id" title="variable">Θ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [[<span class="id" title="var">f</span> <span class="id" title="var">g</span>]<span class="id" title="var">h</span>]. <span class="id" title="tactic">refine</span> (<a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><span class="id" title="var">g</span><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <span class="id" title="var">h</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#tensor_swap"><span class="id" title="definition">tensor_swap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="abbreviation">α</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="abbreviation">α⁻¹</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><a class="idref" href="AffineConstructive.interfaces.prelude.html#id"><span class="id" title="definition">id</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#tensor_diag"><span class="id" title="definition">tensor_diag</span></a> <span class="id" title="var">Ξ</span><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩,</span></a> <a class="idref" href="AffineConstructive.interfaces.prelude.html#id"><span class="id" title="definition">id</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <span class="id" title="var">f</span>). <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="env_union_disjoint" class="idref" href="#env_union_disjoint"><span class="id" title="definition">env_union_disjoint@</span></a>{<span class="id" title="var">i</span>} {<a id="2fa7cd36545270b450a92047d029dc99" class="idref" href="#2fa7cd36545270b450a92047d029dc99"><span class="id" title="binder">Γ</span></a> <a id="d44599d7d25b8a7026b8def0c73be53b" class="idref" href="#d44599d7d25b8a7026b8def0c73be53b"><span class="id" title="binder">Δ</span></a> <a id="de5530e8414780b702fe7b0bb93f18b8" class="idref" href="#de5530e8414780b702fe7b0bb93f18b8"><span class="id" title="binder">Θ</span></a> <a id="130d745f88706322fabfa19ee3539b42" class="idref" href="#130d745f88706322fabfa19ee3539b42"><span class="id" title="binder">Δ'</span></a> <a id="52645108c4e77b891375ea8d31b50a41" class="idref" href="#52645108c4e77b891375ea8d31b50a41"><span class="id" title="binder">Θ'</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#2fa7cd36545270b450a92047d029dc99"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#130d745f88706322fabfa19ee3539b42"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#52645108c4e77b891375ea8d31b50a41"><span class="id" title="variable">Θ'</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#130d745f88706322fabfa19ee3539b42"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#d44599d7d25b8a7026b8def0c73be53b"><span class="id" title="variable">Δ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#52645108c4e77b891375ea8d31b50a41"><span class="id" title="variable">Θ'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#de5530e8414780b702fe7b0bb93f18b8"><span class="id" title="variable">Θ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#2fa7cd36545270b450a92047d029dc99"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#d44599d7d25b8a7026b8def0c73be53b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#de5530e8414780b702fe7b0bb93f18b8"><span class="id" title="variable">Θ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [[<span class="id" title="var">f</span> <span class="id" title="var">g</span>]<span class="id" title="var">h</span>]. <span class="id" title="tactic">refine</span> (<a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><span class="id" title="var">g</span><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <span class="id" title="var">h</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#827bf38f37abcc9bbebbd269563c6cd9"><span class="id" title="abbreviation">u</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#827bf38f37abcc9bbebbd269563c6cd9"><span class="id" title="abbreviation">ᵣ</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#de6d8cdcd642cf06212a905c2e2f59ef"><span class="id" title="notation">⁻¹</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <span class="id" title="var">f</span>). <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">env_union_prod_proj</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Θ</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">env_union_rec</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Θ</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Γ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">u</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#env_union_share"><span class="id" title="definition">env_union_share</span></a> <span class="id" title="var">u</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">env_union_proj</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Θ</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">env_union_rec</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Θ</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Γ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">u</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">u</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.set.html#set_T"><span class="id" title="projection">set_T</span></a> (<span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">)</span></a>) ⇒  <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#env_union_disjoint"><span class="id" title="definition">env_union_disjoint</span></a> <span class="id" title="var">u</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#env_union_copy"><span class="id" title="definition">env_union_copy</span></a> <span class="id" title="var">u</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#env_union_share"><span class="id" title="definition">env_union_share</span></a> <span class="id" title="var">u</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="env_const" class="idref" href="#env_const"><span class="id" title="definition">env_const@</span></a>{<span class="id" title="var">i</span>} (<a id="T:45" class="idref" href="#T:45"><span class="id" title="binder">T</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}) {<a id="X:46" class="idref" href="#X:46"><span class="id" title="binder">X</span></a>:<a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} (<a id="x:47" class="idref" href="#x:47"><span class="id" title="binder">x</span></a>:<a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:46"><span class="id" title="variable">X</span></a>) : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:45"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:46"><span class="id" title="variable">X</span></a> := <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#x:47"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">env_const</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">tm</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">Ξ</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">m</span> := <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.tactics.set_internalize.html#env_const"><span class="id" title="definition">env_const</span></a> <span class="id" title="var">T</span> <span class="id" title="var">tm</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">m</span> <span class="id" title="keyword">with</span> @<a class="idref" href="AffineConstructive.tactics.set_internalize.html#env_const"><span class="id" title="definition">env_const</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">X</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Empty"><span class="id" title="constructor">Environment_Empty</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">tm</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ) <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="env_var" class="idref" href="#env_var"><span class="id" title="definition">env_var@</span></a>{<span class="id" title="var">i</span>} (<a id="T:48" class="idref" href="#T:48"><span class="id" title="binder">T</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}) (<a id="X:49" class="idref" href="#X:49"><span class="id" title="binder">X</span></a>:<a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>) : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:48"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:49"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:49"><span class="id" title="variable">X</span></a> := <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#507873e5bd221a1749fe06ffe9c1f92c"><span class="id" title="abbreviation">u</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#507873e5bd221a1749fe06ffe9c1f92c"><span class="id" title="abbreviation">ₗ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">affine_env_lookup</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Empty"><span class="id" title="constructor">Environment_Empty</span></a> ⇒ <span class="id" title="var">env_const</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> ?<span class="id" title="var">Γ'</span> ?<span class="id" title="var">X</span> ?<span class="id" title="var">var</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">var</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Δ</span> := <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Empty"><span class="id" title="constructor">Environment_Empty</span></a> <span class="id" title="var">X</span> <span class="id" title="var">var</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">Ξ</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#env_var"><span class="id" title="definition">env_var</span></a> <span class="id" title="var">T</span> <span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">tm</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">affine_env_lookup</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nonlinear_env_var" class="idref" href="#nonlinear_env_var"><span class="id" title="definition">nonlinear_env_var@</span></a>{<span class="id" title="var">i</span>} (<a id="T:50" class="idref" href="#T:50"><span class="id" title="binder">T</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}) (<a id="X:51" class="idref" href="#X:51"><span class="id" title="binder">X</span></a>:<a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>) : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:50"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:51"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:51"><span class="id" title="variable">X</span></a> := <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="p:52" class="idref" href="#p:52"><span class="id" title="binder">p</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#const"><span class="id" title="definition">const</span></a> (<a class="idref" href="AffineConstructive.interfaces.notation.html#6bf63edc5d8e8bacc3e31f05db72ce2a"><span class="id" title="abbreviation">π</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#6bf63edc5d8e8bacc3e31f05db72ce2a"><span class="id" title="abbreviation">₂</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#p:52"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="nonlinear_env_cons" class="idref" href="#nonlinear_env_cons"><span class="id" title="definition">nonlinear_env_cons@</span></a>{<span class="id" title="var">i</span>} {<a id="T:53" class="idref" href="#T:53"><span class="id" title="binder">T</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="Y:54" class="idref" href="#Y:54"><span class="id" title="binder">Y</span></a>:<a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} (<a id="m:55" class="idref" href="#m:55"><span class="id" title="binder">m</span></a>:<a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:53"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:54"><span class="id" title="variable">Y</span></a>) (<a id="X:56" class="idref" href="#X:56"><span class="id" title="binder">X</span></a>:<a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:53"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:56"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#99d0ff976d317b9d28136fa74d0da853"><span class="id" title="notation">𝟏</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:54"><span class="id" title="variable">Y</span></a> := <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="p:57" class="idref" href="#p:57"><span class="id" title="binder">p</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#m:55"><span class="id" title="variable">m</span></a> (<a class="idref" href="AffineConstructive.interfaces.notation.html#aee5befed8d5c9e830433744ea53acef"><span class="id" title="abbreviation">π</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#aee5befed8d5c9e830433744ea53acef"><span class="id" title="abbreviation">₁</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#p:57"><span class="id" title="variable">p</span></a>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nonlinear_env_lookup</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">tm</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">Ξ</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.prelude.html#tt"><span class="id" title="constructor">tt</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.sprop.html#False"><span class="id" title="inductive">False</span></a>)<br/>
&nbsp;&nbsp;| @<a class="idref" href="AffineConstructive.interfaces.prelude.html#pair"><span class="id" title="constructor">pair</span></a> ?<span class="id" title="var">T</span> (<a class="idref" href="AffineConstructive.interfaces.set.html#set_T"><span class="id" title="projection">set_T</span></a> ?<span class="id" title="var">X</span>) ?<span class="id" title="var">Ξ'</span> ?<span class="id" title="var">var</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">var</span> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#nonlinear_env_var"><span class="id" title="definition">nonlinear_env_var</span></a> <span class="id" title="var">T</span> <span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">nonlinear_env_lookup</span> <span class="id" title="var">Ξ'</span> <span class="id" title="var">tm</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.sprop.html#False"><span class="id" title="inductive">False</span></a> ⇒ <span class="id" title="var">res</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#nonlinear_env_cons"><span class="id" title="definition">nonlinear_env_cons</span></a> <span class="id" title="var">m</span> <span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">env_lookup</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">nonlinear_env_lookup</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">tm</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Empty"><span class="id" title="constructor">Environment_Empty</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">tm</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.sprop.html#False"><span class="id" title="inductive">False</span></a> ⇒ <span class="id" title="var">affine_env_lookup</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="abs_const" class="idref" href="#abs_const"><span class="id" title="definition">abs_const@</span></a>{<span class="id" title="var">i</span>} {<a id="T:58" class="idref" href="#T:58"><span class="id" title="binder">T</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="D:59" class="idref" href="#D:59"><span class="id" title="binder">D</span></a> <a id="Y:60" class="idref" href="#Y:60"><span class="id" title="binder">Y</span></a>:<a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} (<a id="m:61" class="idref" href="#m:61"><span class="id" title="binder">m</span></a>:<a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:58"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#D:59"><span class="id" title="variable">D</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:60"><span class="id" title="variable">Y</span></a>) <a id="X:62" class="idref" href="#X:62"><span class="id" title="binder">X</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:58"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#D:59"><span class="id" title="variable">D</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:62"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:60"><span class="id" title="variable">Y</span></a> := <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:63" class="idref" href="#e:63"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#m:61"><span class="id" title="variable">m</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:63"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="abs_fun" class="idref" href="#abs_fun"><span class="id" title="definition">abs_fun@</span></a>{<span class="id" title="var">i</span>} {<a id="T:64" class="idref" href="#T:64"><span class="id" title="binder">T</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="D:65" class="idref" href="#D:65"><span class="id" title="binder">D</span></a> <a id="D':66" class="idref" href="#D':66"><span class="id" title="binder">D'</span></a> <a id="X:67" class="idref" href="#X:67"><span class="id" title="binder">X</span></a> <a id="Y:68" class="idref" href="#Y:68"><span class="id" title="binder">Y</span></a>:<a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} (<a id="m:69" class="idref" href="#m:69"><span class="id" title="binder">m</span></a>:<a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:64"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#D:65"><span class="id" title="variable">D</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:68"><span class="id" title="variable">Y</span></a>) (<a id="p:70" class="idref" href="#p:70"><span class="id" title="binder">p</span></a>:<a class="idref" href="AffineConstructive.tactics.set_internalize.html#D':66"><span class="id" title="variable">D'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:67"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#D:65"><span class="id" title="variable">D</span></a>) : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:64"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#D':66"><span class="id" title="variable">D'</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:67"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:68"><span class="id" title="variable">Y</span></a> := <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:71" class="idref" href="#e:71"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#curry"><span class="id" title="definition">curry</span></a> (<a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#m:69"><span class="id" title="variable">m</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:71"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#p:70"><span class="id" title="variable">p</span></a>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">interpret_abstraction_inner</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">var</span> <span class="id" title="var">body</span> :=<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">v</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="var">var</span> : <a class="idref" href="AffineConstructive.interfaces.set.html#set_T"><span class="id" title="projection">set_T</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">X</span> := <span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">v</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.set.html#set_T"><span class="id" title="projection">set_T</span></a> ?<span class="id" title="var">X</span> ⇒ <span class="id" title="var">X</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Γ'</span> := <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Cons"><span class="id" title="constructor">Environment_Cons</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">X</span> <span class="id" title="var">var</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">body</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span>  <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">body'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">env_split</span> <span class="id" title="var">Δ</span> <span class="id" title="var">var</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.sprop.html#False"><span class="id" title="inductive">False</span></a> ⇒ <span class="id" title="tactic">exact</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#abs_const"><span class="id" title="definition">abs_const</span></a> <span class="id" title="var">m</span> <span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">body'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> ?<span class="id" title="var">Δ'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">p</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="tactic">exact</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#abs_fun"><span class="id" title="definition">abs_fun</span></a> <span class="id" title="var">m</span> <span class="id" title="var">p</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">body'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">interpret_abstraction</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span> :=<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="binder:73" class="idref" href="#binder:73"><span class="id" title="binder">binder</span></a> : ?<span class="id" title="var">T</span><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">body</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">eval_under_binder_pair</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">interpret_abstraction_inner</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span>) <span class="id" title="var">binder</span> <span class="id" title="var">T</span> <span class="id" title="var">body</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> ?<span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">tm'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">env</span> := <span class="id" title="var">env_reify</span> <span class="id" title="var">Δ</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f</span> := <span class="id" title="keyword">constr</span>:( (@<a class="idref" href="AffineConstructive.interfaces.set_lambda.notation.html#set_lambda"><span class="id" title="definition">set_lambda</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">tm'</span> (<a class="idref" href="AffineConstructive.interfaces.set.html#func_is_fun"><span class="id" title="projection">func_is_fun</span></a> (<span class="id" title="var">m</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">env</span>)))) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">interpret_subset_comprehension</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">interpret_abstraction</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> @<a class="idref" href="AffineConstructive.interfaces.set_lambda.notation.html#set_lambda"><span class="id" title="definition">set_lambda</span></a> ?<span class="id" title="var">X</span> <span class="id" title="var">_</span> ?<span class="id" title="var">f'</span> ?<span class="id" title="var">H</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.subset.notation.html#fac9eac512c0414e6fd34811214b8846"><span class="id" title="abbreviation">𝒫</span></a> <span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> @<a class="idref" href="AffineConstructive.interfaces.subset.notation.html#subset_comprehension"><span class="id" title="definition">subset_comprehension</span></a> <span class="id" title="var">X</span> <span class="id" title="var">f'</span> <span class="id" title="var">H</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="uncurry_mor" class="idref" href="#uncurry_mor"><span class="id" title="definition">uncurry_mor@</span></a>{<span class="id" title="var">i</span>} {<a id="T:74" class="idref" href="#T:74"><span class="id" title="binder">T</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="1f7d5b3b677be9e2b4acb00133319bd4" class="idref" href="#1f7d5b3b677be9e2b4acb00133319bd4"><span class="id" title="binder">Δ</span></a> <a id="6123e58db792e470c9281e7328365092" class="idref" href="#6123e58db792e470c9281e7328365092"><span class="id" title="binder">X₁</span></a> <a id="1d6ebec4b9c17f20c9160ea6fe75952a" class="idref" href="#1d6ebec4b9c17f20c9160ea6fe75952a"><span class="id" title="binder">X₂</span></a> <a id="Y:78" class="idref" href="#Y:78"><span class="id" title="binder">Y</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} : <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:74"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#1f7d5b3b677be9e2b4acb00133319bd4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#6123e58db792e470c9281e7328365092"><span class="id" title="variable">X₁</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#1d6ebec4b9c17f20c9160ea6fe75952a"><span class="id" title="variable">X₂</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:78"><span class="id" title="variable">Y</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:74"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#1f7d5b3b677be9e2b4acb00133319bd4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#6123e58db792e470c9281e7328365092"><span class="id" title="variable">X₁</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#1d6ebec4b9c17f20c9160ea6fe75952a"><span class="id" title="variable">X₂</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:78"><span class="id" title="variable">Y</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
:= <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="m:79" class="idref" href="#m:79"><span class="id" title="binder">m</span></a> <a id="e:80" class="idref" href="#e:80"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#curry"><span class="id" title="definition">curry</span></a> (<a class="idref" href="AffineConstructive.theory.set.html#uncurry"><span class="id" title="definition">uncurry</span></a> (<a class="idref" href="AffineConstructive.theory.set.html#uncurry"><span class="id" title="definition">uncurry</span></a> (<a class="idref" href="AffineConstructive.tactics.set_internalize.html#m:79"><span class="id" title="variable">m</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:80"><span class="id" title="variable">e</span></a>)) <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="abbreviation">α⁻¹</span></a>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">interpret_pair_abstraction</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder">pat</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">let</span> <a id="binder0:86" class="idref" href="#binder0:86"><span class="id" title="binder">binder0</span></a> := <a class="idref" href="AffineConstructive.tactics.set_internalize.html#pat:81"><span class="id" title="variable">pat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <a id="binder1:87" class="idref" href="#binder1:87"><span class="id" title="binder">binder1</span></a> : ?<span class="id" title="var">T1</span> := <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj1"><span class="id" title="projection">proj1</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#binder0:82"><span class="id" title="variable">binder0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <a id="binder2:88" class="idref" href="#binder2:88"><span class="id" title="binder">binder2</span></a> : ?<span class="id" title="var">T2</span> := <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj2"><span class="id" title="projection">proj2</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#binder0:82"><span class="id" title="variable">binder0</span></a> <span class="id" title="tactic">in</span> ?<span class="id" title="var">body</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f</span> := <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="binder1:89" class="idref" href="#binder1:89"><span class="id" title="binder">binder1</span></a>:<span class="id" title="var">T1</span>) (<a id="binder2:90" class="idref" href="#binder2:90"><span class="id" title="binder">binder2</span></a>:<span class="id" title="var">T2</span><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <span class="id" title="var">body</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">interpret_abstraction</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span>  <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">X₁</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> ?<span class="id" title="var">X₂</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> ?<span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AffineConstructive.interfaces.set_lambda.notation.html#set_lambda"><span class="id" title="definition">set_lambda</span></a> (<a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="var1:93" class="idref" href="#var1:93"><span class="id" title="binder">var1</span></a>:?<span class="id" title="var">T1'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.set_lambda.notation.html#set_lambda"><span class="id" title="definition">set_lambda</span></a> (<a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="var2:94" class="idref" href="#var2:94"><span class="id" title="binder">var2</span></a>:?<span class="id" title="var">T2'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">body'</span>)) (<span class="id" title="var">H</span>:=<a class="idref" href="AffineConstructive.interfaces.set.html#func_is_fun"><span class="id" title="projection">func_is_fun</span></a> ?<span class="id" title="var">sf</span>)<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">m'</span> := <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.tactics.set_internalize.html#uncurry_mor"><span class="id" title="definition">uncurry_mor</span></a> <span class="id" title="var">m</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f'</span> := <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder">pat</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">let</span> <a id="binder0:96" class="idref" href="#binder0:96"><span class="id" title="binder">binder0</span></a> := <a class="idref" href="AffineConstructive.tactics.set_internalize.html#pat:95"><span class="id" title="variable">pat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <a id="binder1:97" class="idref" href="#binder1:97"><span class="id" title="binder">binder1</span></a>:<span class="id" title="var">T1'</span> := <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj1"><span class="id" title="projection">proj1</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#binder0:96"><span class="id" title="variable">binder0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <a id="binder2:98" class="idref" href="#binder2:98"><span class="id" title="binder">binder2</span></a>:<span class="id" title="var">T2'</span> := <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj2"><span class="id" title="projection">proj2</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#binder0:96"><span class="id" title="variable">binder0</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#binder1:97"><span class="id" title="variable">binder1</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">var1</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#binder2:98"><span class="id" title="variable">binder2</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">var2</span> ⇒ <span class="id" title="var">body'</span> <span class="id" title="keyword">end</span> <span class="id" title="keyword">end</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">tm'</span> := <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.set_lambda.notation.html#set_lambda"><span class="id" title="definition">set_lambda</span></a> <span class="id" title="var">f'</span> (<span class="id" title="var">H</span>:=<a class="idref" href="AffineConstructive.interfaces.set.html#func_is_fun"><span class="id" title="projection">func_is_fun</span></a> (<a class="idref" href="AffineConstructive.theory.set.html#uncurry"><span class="id" title="definition">uncurry</span></a> <span class="id" title="var">sf</span>))) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">X₁</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">X₂</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">tm'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">build_coercion</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">_</span> := <span class="id" title="var">debug_msg</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span> "build_coercion" <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> ?<span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.set.html#id_fun"><span class="id" title="definition">id_fun</span></a> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> <a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">!</span></a> ?<span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.theory.set.html#of_course_counit"><span class="id" title="definition">of_course_counit</span></a> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> <a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">!</span></a> ?<span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">!</span></a> ?<span class="id" title="var">Y</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">c</span> := <span class="id" title="var">build_coercion</span> <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">!</span></a><span class="id" title="var">X</span>) <span class="id" title="var">Y</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.theory.set.html#of_course_extend"><span class="id" title="definition">of_course_extend</span></a> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> <a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">!</span></a> <a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">(</span></a>?<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> ?<span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">)</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">Z</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">c</span> := <span class="id" title="var">build_coercion</span> <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">!</span></a><span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">!</span></a><span class="id" title="var">Y</span>) <span class="id" title="var">Z</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">c</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#of_course_tensor_set"><span class="id" title="definition">of_course_tensor_set</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> <a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">!</span></a> <a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">(</span></a>?<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> ?<span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">)</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">Z</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">c</span> := <span class="id" title="var">build_coercion</span> <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">!</span></a><span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">!</span></a><span class="id" title="var">Y</span>) <span class="id" title="var">Z</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">c</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#of_course_prod_set"><span class="id" title="definition">of_course_prod_set</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> ?<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> ?<span class="id" title="var">Y</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">Z</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> ?<span class="id" title="var">W</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">c₁</span> := <span class="id" title="var">build_coercion</span> <span class="id" title="var">X</span> <span class="id" title="var">Z</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">c₂</span> := <span class="id" title="var">build_coercion</span> <span class="id" title="var">Y</span> <span class="id" title="var">W</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><span class="id" title="var">c₁</span><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <span class="id" title="var">c₂</span><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> ?<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> ?<span class="id" title="var">Y</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">Z</span> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> ?<span class="id" title="var">W</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">c₁</span> := <span class="id" title="var">build_coercion</span> <span class="id" title="var">X</span> <span class="id" title="var">Z</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">c₂</span> := <span class="id" title="var">build_coercion</span> <span class="id" title="var">Y</span> <span class="id" title="var">W</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.theory.set.html#tensor_to_prod"><span class="id" title="definition">tensor_to_prod</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><span class="id" title="var">c₁</span><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <span class="id" title="var">c₂</span><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> ?<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> ?<span class="id" title="var">Y</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">Z</span> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> ?<span class="id" title="var">W</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">c₁</span> := <span class="id" title="var">build_coercion</span> <span class="id" title="var">X</span> <span class="id" title="var">Z</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">c₂</span> := <span class="id" title="var">build_coercion</span> <span class="id" title="var">Y</span> <span class="id" title="var">W</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.theory.set.html#prod_map"><span class="id" title="definition">prod_map</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">c₁</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">c₂</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> <a class="idref" href="AffineConstructive.theory.set.html#6705e7df17f51c6d42ac6dd42e882651"><span class="id" title="notation">!</span></a> ?<span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.theory.set.html#of_course_counit"><span class="id" title="definition">of_course_counit</span></a> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.set.html#id_fun"><span class="id" title="definition">id_fun</span></a> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="apply_coercion" class="idref" href="#apply_coercion"><span class="id" title="definition">apply_coercion@</span></a>{<span class="id" title="var">i</span>} {<a id="T:101" class="idref" href="#T:101"><span class="id" title="binder">T</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="16cf05dce72d654f34695685c2af4841" class="idref" href="#16cf05dce72d654f34695685c2af4841"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} {<a id="X:103" class="idref" href="#X:103"><span class="id" title="binder">X</span></a> <a id="X':104" class="idref" href="#X':104"><span class="id" title="binder">X'</span></a>: <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>}<br/>
&nbsp;&nbsp;(<a id="m:105" class="idref" href="#m:105"><span class="id" title="binder">m</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:101"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#16cf05dce72d654f34695685c2af4841"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:103"><span class="id" title="variable">X</span></a>) (<a id="c:106" class="idref" href="#c:106"><span class="id" title="binder">c</span></a>: <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:103"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X':104"><span class="id" title="variable">X'</span></a>) : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:101"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#16cf05dce72d654f34695685c2af4841"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X':104"><span class="id" title="variable">X'</span></a><br/>
:= <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:107" class="idref" href="#e:107"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#c:106"><span class="id" title="variable">c</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#m:105"><span class="id" title="variable">m</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:107"><span class="id" title="variable">e</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="app_mor" class="idref" href="#app_mor"><span class="id" title="definition">app_mor@</span></a>{<span class="id" title="var">i</span>} {<a id="T:108" class="idref" href="#T:108"><span class="id" title="binder">T</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="20b0d4460e63a61e2b7612cbaab47a2a" class="idref" href="#20b0d4460e63a61e2b7612cbaab47a2a"><span class="id" title="binder">Γ</span></a> <a id="e9c4b5cb3a4378c615c6d4bdb385a746" class="idref" href="#e9c4b5cb3a4378c615c6d4bdb385a746"><span class="id" title="binder">Δ</span></a> <a id="1f9d82f05e74a03eff6d6906ffebbde2" class="idref" href="#1f9d82f05e74a03eff6d6906ffebbde2"><span class="id" title="binder">Θ</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} {<a id="X:112" class="idref" href="#X:112"><span class="id" title="binder">X</span></a> <a id="Y:113" class="idref" href="#Y:113"><span class="id" title="binder">Y</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>}<br/>
&nbsp;&nbsp;(<a id="p:114" class="idref" href="#p:114"><span class="id" title="binder">p</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#20b0d4460e63a61e2b7612cbaab47a2a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e9c4b5cb3a4378c615c6d4bdb385a746"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#1f9d82f05e74a03eff6d6906ffebbde2"><span class="id" title="variable">Θ</span></a>) (<a id="f:115" class="idref" href="#f:115"><span class="id" title="binder">f</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:108"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e9c4b5cb3a4378c615c6d4bdb385a746"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:112"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:113"><span class="id" title="variable">Y</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">)</span></a>) (<a id="x:116" class="idref" href="#x:116"><span class="id" title="binder">x</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:108"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#1f9d82f05e74a03eff6d6906ffebbde2"><span class="id" title="variable">Θ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:112"><span class="id" title="variable">X</span></a>) : (<a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:108"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#20b0d4460e63a61e2b7612cbaab47a2a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:113"><span class="id" title="variable">Y</span></a>)<br/>
:= <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:117" class="idref" href="#e:117"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#f:115"><span class="id" title="variable">f</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:117"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#x:116"><span class="id" title="variable">x</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:117"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#p:114"><span class="id" title="variable">p</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="app_mor_strong" class="idref" href="#app_mor_strong"><span class="id" title="definition">app_mor_strong@</span></a>{<span class="id" title="var">i</span>} {<a id="T:118" class="idref" href="#T:118"><span class="id" title="binder">T</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="e6bb8b3e7b4f2d9663b568c177a5d39b" class="idref" href="#e6bb8b3e7b4f2d9663b568c177a5d39b"><span class="id" title="binder">Γ</span></a> <a id="31fe94b7957c8a26724ab248174fc25a" class="idref" href="#31fe94b7957c8a26724ab248174fc25a"><span class="id" title="binder">Δ</span></a> <a id="f391bb5a33cb262d63049217f5b22705" class="idref" href="#f391bb5a33cb262d63049217f5b22705"><span class="id" title="binder">Θ</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} {<a id="X:122" class="idref" href="#X:122"><span class="id" title="binder">X</span></a> <a id="Y:123" class="idref" href="#Y:123"><span class="id" title="binder">Y</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} `{<a id="StrongOp0:124" class="idref" href="#StrongOp0:124"><span class="id" title="binder">!</span></a><a id="StrongOp0:124" class="idref" href="#StrongOp0:124"><span class="id" title="binder">StrongOp</span></a> <a id="StrongOp0:124" class="idref" href="#StrongOp0:124"><span class="id" title="binder">(@</span></a><a id="StrongOp0:124" class="idref" href="#StrongOp0:124"><span class="id" title="binder">eval</span></a> <a id="StrongOp0:124" class="idref" href="#StrongOp0:124"><span class="id" title="binder">X</span></a> <a id="StrongOp0:124" class="idref" href="#StrongOp0:124"><span class="id" title="binder">Y</span></a><a id="StrongOp0:124" class="idref" href="#StrongOp0:124"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="p:125" class="idref" href="#p:125"><span class="id" title="binder">p</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e6bb8b3e7b4f2d9663b568c177a5d39b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#31fe94b7957c8a26724ab248174fc25a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#f391bb5a33cb262d63049217f5b22705"><span class="id" title="variable">Θ</span></a>) (<a id="f:126" class="idref" href="#f:126"><span class="id" title="binder">f</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:118"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#31fe94b7957c8a26724ab248174fc25a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:122"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:123"><span class="id" title="variable">Y</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">)</span></a>) (<a id="x:127" class="idref" href="#x:127"><span class="id" title="binder">x</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:118"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#f391bb5a33cb262d63049217f5b22705"><span class="id" title="variable">Θ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:122"><span class="id" title="variable">X</span></a>) : (<a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:118"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e6bb8b3e7b4f2d9663b568c177a5d39b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:123"><span class="id" title="variable">Y</span></a>)<br/>
:= <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:128" class="idref" href="#e:128"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#strong_op"><span class="id" title="definition">strong_op</span></a> <a class="idref" href="AffineConstructive.theory.set.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.theory.set.html#prod_map"><span class="id" title="definition">prod_map</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#f:126"><span class="id" title="variable">f</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:128"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#x:127"><span class="id" title="variable">x</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:128"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#p:125"><span class="id" title="variable">p</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">interpret_application</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span> :=<br/>
<span class="id" title="keyword">let</span> <span class="id" title="var">_</span> := <span class="id" title="var">debug_msg</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span> "application" <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span>) <span class="id" title="tactic">in</span><br/>
<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">with</span> ?<span class="id" title="var">f</span> ?<span class="id" title="var">x</span> ⇒<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span>  <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Θ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">mx</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">x'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">f</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| @<a class="idref" href="AffineConstructive.interfaces.set.html#func_op"><span class="id" title="projection">func_op</span></a> ?<span class="id" title="var">X'</span> ?<span class="id" title="var">Y'</span> ?<span class="id" title="var">g</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">X'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">((</span></a><span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">),</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">A</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> ?<span class="id" title="var">B</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">))</span></a> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="keyword">constr</span>:(@<a class="idref" href="AffineConstructive.interfaces.set.html#strong_op"><span class="id" title="definition">strong_op</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">Y'</span> <span class="id" title="var">g</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">h</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">res</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#strong_op"><span class="id" title="definition">strong_op</span></a> ?<span class="id" title="var">f'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">res</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">g</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span>  <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">F</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">mf</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">f'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">env_union_proj</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Θ</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">ΔΘ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">p</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">force_function_type</span> <span class="id" title="var">m</span> <span class="id" title="var">F</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">F</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">F</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">F'</span> := <span class="id" title="var">eunify</span> <span class="id" title="var">uconstr</span>:(<span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">F</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">F'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">F</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.theory.set.html#of_course_set"><span class="id" title="definition">of_course_set</span></a> ?<span class="id" title="var">F'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mf'</span> := <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.tactics.set_internalize.html#apply_coercion"><span class="id" title="definition">apply_coercion</span></a> <span class="id" title="var">mf</span> (<a class="idref" href="AffineConstructive.theory.set.html#of_course_counit"><span class="id" title="definition">of_course_counit</span></a> <span class="id" title="var">F'</span>) ) <span class="id" title="tactic">in</span> <span class="id" title="var">force_function_type</span> <span class="id" title="var">mf'</span> <span class="id" title="var">F'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">force_function_type</span> <span class="id" title="var">mf</span> <span class="id" title="var">F</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">mf</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">X'</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> ?<span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">_</span> := <span class="id" title="var">debug_msg</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span> "applying" <span class="id" title="var">X</span> <span class="id" title="var">X'</span> <span class="id" title="var">Y</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mx</span> := <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">X</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">X'</span> ⇒ <span class="id" title="keyword">constr</span>:(<span class="id" title="var">mx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">c</span> := <span class="id" title="var">build_coercion</span> <span class="id" title="var">X</span> <span class="id" title="var">X'</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.tactics.set_internalize.html#apply_coercion"><span class="id" title="definition">apply_coercion</span></a> <span class="id" title="var">mx</span> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">p</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.set.html#set_T"><span class="id" title="projection">set_T</span></a> (<span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">_</span>) ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">ΔΘ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#app_mor"><span class="id" title="definition">app_mor</span></a>        <span class="id" title="var">p</span> <span class="id" title="var">mf</span> <span class="id" title="var">mx</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">x'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.set.html#set_T"><span class="id" title="projection">set_T</span></a> (<span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> <span class="id" title="var">_</span>) ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">ΔΘ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#app_mor_strong"><span class="id" title="definition">app_mor_strong</span></a> <span class="id" title="var">p</span> <span class="id" title="var">mf</span> <span class="id" title="var">mx</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">x'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="tensor_pair_mor" class="idref" href="#tensor_pair_mor"><span class="id" title="definition">tensor_pair_mor@</span></a>{<span class="id" title="var">i</span>} {<a id="T:129" class="idref" href="#T:129"><span class="id" title="binder">T</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="6d5a25013c15bde3ab5fe007c2c81f34" class="idref" href="#6d5a25013c15bde3ab5fe007c2c81f34"><span class="id" title="binder">Γ</span></a> <a id="700bd56fa0a1a479ecc3b3778db647b5" class="idref" href="#700bd56fa0a1a479ecc3b3778db647b5"><span class="id" title="binder">Δ</span></a> <a id="411ea8cf6217d8900fb81c22b72a945c" class="idref" href="#411ea8cf6217d8900fb81c22b72a945c"><span class="id" title="binder">Θ</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} {<a id="X:133" class="idref" href="#X:133"><span class="id" title="binder">X</span></a> <a id="Y:134" class="idref" href="#Y:134"><span class="id" title="binder">Y</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>}<br/>
&nbsp;&nbsp;(<a id="p:135" class="idref" href="#p:135"><span class="id" title="binder">p</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#6d5a25013c15bde3ab5fe007c2c81f34"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#700bd56fa0a1a479ecc3b3778db647b5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#411ea8cf6217d8900fb81c22b72a945c"><span class="id" title="variable">Θ</span></a>) (<a id="f:136" class="idref" href="#f:136"><span class="id" title="binder">f</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:129"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#700bd56fa0a1a479ecc3b3778db647b5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:133"><span class="id" title="variable">X</span></a>) (<a id="g:137" class="idref" href="#g:137"><span class="id" title="binder">g</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:129"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#411ea8cf6217d8900fb81c22b72a945c"><span class="id" title="variable">Θ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:134"><span class="id" title="variable">Y</span></a>) : (<a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:129"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#6d5a25013c15bde3ab5fe007c2c81f34"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:133"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:134"><span class="id" title="variable">Y</span></a>)<br/>
:= <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:138" class="idref" href="#e:138"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟨</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#f:136"><span class="id" title="variable">f</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:138"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#g:137"><span class="id" title="variable">g</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:138"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.theory.set.html#459aec6816353e87ddafda104ecca7b0"><span class="id" title="notation">⟩</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#p:135"><span class="id" title="variable">p</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="prod_pair_mor" class="idref" href="#prod_pair_mor"><span class="id" title="definition">prod_pair_mor@</span></a>{<span class="id" title="var">i</span>} {<a id="T:139" class="idref" href="#T:139"><span class="id" title="binder">T</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="442f86e95b1c753904b4a978a19bac8b" class="idref" href="#442f86e95b1c753904b4a978a19bac8b"><span class="id" title="binder">Γ</span></a> <a id="7ad7086e24b5d6403889caf601674ed4" class="idref" href="#7ad7086e24b5d6403889caf601674ed4"><span class="id" title="binder">Δ</span></a> <a id="16975abea2e84b5db3703fc2d946c34c" class="idref" href="#16975abea2e84b5db3703fc2d946c34c"><span class="id" title="binder">Θ</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} {<a id="X:143" class="idref" href="#X:143"><span class="id" title="binder">X</span></a> <a id="Y:144" class="idref" href="#Y:144"><span class="id" title="binder">Y</span></a> : <a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>}<br/>
&nbsp;&nbsp;(<a id="p:145" class="idref" href="#p:145"><span class="id" title="binder">p</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#442f86e95b1c753904b4a978a19bac8b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#7ad7086e24b5d6403889caf601674ed4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#16975abea2e84b5db3703fc2d946c34c"><span class="id" title="variable">Θ</span></a>) (<a id="f:146" class="idref" href="#f:146"><span class="id" title="binder">f</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:139"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#7ad7086e24b5d6403889caf601674ed4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:143"><span class="id" title="variable">X</span></a>) (<a id="g:147" class="idref" href="#g:147"><span class="id" title="binder">g</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:139"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#16975abea2e84b5db3703fc2d946c34c"><span class="id" title="variable">Θ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:144"><span class="id" title="variable">Y</span></a>) : (<a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:139"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#442f86e95b1c753904b4a978a19bac8b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#X:143"><span class="id" title="variable">X</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#Y:144"><span class="id" title="variable">Y</span></a>)<br/>
:= <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:148" class="idref" href="#e:148"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#prod_map"><span class="id" title="definition">prod_map</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#f:146"><span class="id" title="variable">f</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:148"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#g:147"><span class="id" title="variable">g</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:148"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#p:145"><span class="id" title="variable">p</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">interpret_pair</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res₁</span> := <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res₂</span> := <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">res₁</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">res₂</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Δ₁</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">mx</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">x'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">),</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Δ₂</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">my</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">y'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">tm'</span> := <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.prelude.html#pair"><span class="id" title="constructor">pair</span></a> <span class="id" title="var">x'</span> <span class="id" title="var">y'</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">env_union_proj</span> <span class="id" title="var">Δ₁</span> <span class="id" title="var">Δ₂</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">p</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">p</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.set.html#set_T"><span class="id" title="projection">set_T</span></a> (<span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">_</span>) ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#tensor_pair_mor"><span class="id" title="definition">tensor_pair_mor</span></a> <span class="id" title="var">p</span> <span class="id" title="var">mx</span> <span class="id" title="var">my</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">tm'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.set.html#set_T"><span class="id" title="projection">set_T</span></a> (<span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> <span class="id" title="var">_</span>) ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> <span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#prod_pair_mor"><span class="id" title="definition">prod_pair_mor</span></a>   <span class="id" title="var">p</span> <span class="id" title="var">mx</span> <span class="id" title="var">my</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">tm'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">interpret_prod_pair</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">interpret_pair</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<span class="id" title="var">res</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> ?<span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">tm'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Z</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">Y</span>) <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">Z'</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> <span class="id" title="var">Y</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">c</span> := <span class="id" title="var">build_coercion</span> <span class="id" title="var">Z</span> <span class="id" title="var">Z'</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">Z'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#apply_coercion"><span class="id" title="definition">apply_coercion</span></a> <span class="id" title="var">m</span> <span class="id" title="var">c</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">tm'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">interpret_projection</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span> :=<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">p</span> := <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">with</span> <span class="id" title="var">_</span> ?<span class="id" title="var">p</span> ⇒ <span class="id" title="var">p</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">p</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">T</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">p'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">T</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#75321c2a03c7ef46004ff080b326a474"><span class="id" title="notation">⊗</span></a> ?<span class="id" title="var">Y</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj1"><span class="id" title="projection">proj1</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:152" class="idref" href="#e:152"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#tensor_proj1"><span class="id" title="definition">tensor_proj1</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <span class="id" title="var">m</span> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:152"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj1"><span class="id" title="projection">proj1</span></a> <span class="id" title="var">p'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj2"><span class="id" title="projection">proj2</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:151" class="idref" href="#e:151"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#tensor_proj2"><span class="id" title="definition">tensor_proj2</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <span class="id" title="var">m</span> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:151"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj2"><span class="id" title="projection">proj2</span></a> <span class="id" title="var">p'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">X</span> <a class="idref" href="AffineConstructive.interfaces.set.html#802f4db940001f0d6cb299bc512bab54"><span class="id" title="notation">×</span></a> ?<span class="id" title="var">Y</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj1"><span class="id" title="projection">proj1</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">X</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:150" class="idref" href="#e:150"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#prod_proj1"><span class="id" title="definition">prod_proj1</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <span class="id" title="var">m</span> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:150"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj1"><span class="id" title="projection">proj1</span></a> <span class="id" title="var">p'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj2"><span class="id" title="projection">proj2</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:149" class="idref" href="#e:149"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.theory.set.html#prod_proj2"><span class="id" title="definition">prod_proj2</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <a class="idref" href="AffineConstructive.interfaces.set.html#da458da677096d07356607ac24b46c35"><span class="id" title="notation">∘</span></a> <span class="id" title="var">m</span> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:149"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj2"><span class="id" title="projection">proj2</span></a> <span class="id" title="var">p'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">interpret_let_in</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span> :=<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="keyword">let</span> <a id="binder:154" class="idref" href="#binder:154"><span class="id" title="binder">binder</span></a> : ?<span class="id" title="var">T</span> := ?<span class="id" title="var">expr</span> <span class="id" title="tactic">in</span> ?<span class="id" title="var">body</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">tm'</span> := <span class="id" title="keyword">constr</span>:( (<span class="id" title="keyword">fun</span> <a id="binder:155" class="idref" href="#binder:155"><span class="id" title="binder">binder</span></a> : <span class="id" title="var">T</span> ⇒ <span class="id" title="var">body</span>) <span class="id" title="var">expr</span> ) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">interpret_application</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm'</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">res</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#func_op"><span class="id" title="projection">func_op</span></a> (<a class="idref" href="AffineConstructive.interfaces.set_lambda.notation.html#set_lambda"><span class="id" title="definition">set_lambda</span></a> (<span class="id" title="keyword">fun</span> <a id="w:157" class="idref" href="#w:157"><span class="id" title="binder">w</span></a> ⇒ ?<span class="id" title="var">body'</span>)) ?<span class="id" title="var">x</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">res</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">let</span> <a id="binder:158" class="idref" href="#binder:158"><span class="id" title="binder">binder</span></a> : <span class="id" title="var">T</span> := <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">match</span> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#binder:158"><span class="id" title="variable">binder</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">w</span> ⇒ <span class="id" title="var">body'</span> <span class="id" title="keyword">end</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">interpret_coerce_app_or_const</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">_</span> := <span class="id" title="var">debug_msg</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span> "interpret_coerce_app_or_const" "Γ=" <span class="id" title="var">Γ</span> "tm=" <span class="id" title="var">tm</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">c</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">f</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">z</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">f'</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> (@<a class="idref" href="AffineConstructive.interfaces.prelude.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="AffineConstructive.interfaces.set.html#func"><span class="id" title="record">func</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="AffineConstructive.interfaces.prelude.html#eval_tuncurry3"><span class="id" title="abbreviation">eval_tuncurry3</span></a> <span class="id" title="var">f</span>)) <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.interfaces.prelude.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f'</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">z</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">))</span></a>)<br/>
&nbsp;&nbsp;| ?<span class="id" title="var">f</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">f'</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> (@<a class="idref" href="AffineConstructive.interfaces.prelude.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="AffineConstructive.interfaces.set.html#func"><span class="id" title="record">func</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<a class="idref" href="AffineConstructive.interfaces.prelude.html#tuncurry"><span class="id" title="definition">tuncurry</span></a> <span class="id" title="var">f</span>)) <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.interfaces.prelude.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f'</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">))</span></a>)<br/>
&nbsp;&nbsp;| ?<span class="id" title="var">f</span> ?<span class="id" title="var">x</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">f'</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> (@<a class="idref" href="AffineConstructive.interfaces.prelude.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="AffineConstructive.interfaces.set.html#func"><span class="id" title="record">func</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>) <span class="id" title="tactic">in</span> <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.interfaces.prelude.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">x</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.sprop.html#False"><span class="id" title="inductive">False</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">_</span> := <span class="id" title="var">debug_msg</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span> "coerce application" <span class="id" title="var">c</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.sprop.html#False"><span class="id" title="inductive">False</span></a> ⇒ <span class="id" title="var">env_const</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">double</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">f</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">tm'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f'</span> := <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm'</span> <span class="id" title="keyword">with</span> ?<span class="id" title="var">f'</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:(<span class="id" title="var">f'</span>) <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">interpret_application</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm'</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">res</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f'</span> ?<span class="id" title="var">a</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">double</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.prelude.html#false"><span class="id" title="constructor">false</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">res</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.prelude.html#true"><span class="id" title="constructor">true</span></a> ⇒ <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">a</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">x</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">res</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.prelude.html#tt"><span class="id" title="constructor">tt</span></a> ⇒ <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">a</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">x</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">z</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">res</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="all_mor_prop" class="idref" href="#all_mor_prop"><span class="id" title="lemma">all_mor_prop@</span></a>{<span class="id" title="var">i</span>} {<a id="T:160" class="idref" href="#T:160"><span class="id" title="binder">T</span></a> <a id="A:161" class="idref" href="#A:161"><span class="id" title="binder">A</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="9694441249b61c326613811c16949842" class="idref" href="#9694441249b61c326613811c16949842"><span class="id" title="binder">Γ</span></a>:<a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} (<a id="m:163" class="idref" href="#m:163"><span class="id" title="binder">m</span></a>:<a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:160"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#A:161"><span class="id" title="variable">A</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#9694441249b61c326613811c16949842"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#c7859fe5d42efae890c4404dada70253"><span class="id" title="notation">Ω</span></a>) (<a id="e:164" class="idref" href="#e:164"><span class="id" title="binder">e</span></a>:<a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:160"><span class="id" title="variable">T</span></a>) : @<a class="idref" href="AffineConstructive.interfaces.set.html#IsFun"><span class="id" title="class">IsFun</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#9694441249b61c326613811c16949842"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#c7859fe5d42efae890c4404dada70253"><span class="id" title="notation">Ω</span></a> (<a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="u:165" class="idref" href="#u:165"><span class="id" title="binder">u</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#9694441249b61c326613811c16949842"><span class="id" title="variable">Γ</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#044f0088bb4c9c18bec853ebb6e7b631"><span class="id" title="notation">∏</span></a> <a id="x:166" class="idref" href="#x:166"><span class="id" title="binder">x</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#A:161"><span class="id" title="variable">A</span></a><a class="idref" href="AffineConstructive.interfaces.aprop.html#044f0088bb4c9c18bec853ebb6e7b631"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#m:163"><span class="id" title="variable">m</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:164"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#x:166"><span class="id" title="variable">x</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#u:165"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">change</span> (?<span class="id" title="var">P</span> <a class="idref" href="AffineConstructive.interfaces.relation_notation.html#6b9a5c160360edefd992463ff8bf70e9"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">Q</span> <a class="idref" href="AffineConstructive.interfaces.relation_notation.html#6b9a5c160360edefd992463ff8bf70e9"><span class="id" title="notation">:&gt;</span></a> <a class="idref" href="AffineConstructive.theory.set.html#AProp_set"><span class="id" title="definition">AProp_set</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">P</span> <a class="idref" href="AffineConstructive.interfaces.aprop.html#e7bd42d4334a552a3675b1fcb5a98c3d"><span class="id" title="notation">⧟</span></a> <span class="id" title="var">Q</span>). <span class="id" title="var">rew</span> &lt;-(<a class="idref" href="AffineConstructive.logic.aprop.html#all_aiff"><span class="id" title="definition">all_aiff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>), &lt;-<a class="idref" href="AffineConstructive.logic.aprop.html#all_adj"><span class="id" title="definition">all_adj</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span> (<a class="idref" href="AffineConstructive.interfaces.set.html#is_fun"><span class="id" title="definition">is_fun</span></a> (<span class="id" title="var">m</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">e</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="aex_mor_prop" class="idref" href="#aex_mor_prop"><span class="id" title="lemma">aex_mor_prop@</span></a>{<span class="id" title="var">i</span>} {<a id="T:167" class="idref" href="#T:167"><span class="id" title="binder">T</span></a> <a id="A:168" class="idref" href="#A:168"><span class="id" title="binder">A</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="69fb8d53ff71bb87999e9dfcc44d6817" class="idref" href="#69fb8d53ff71bb87999e9dfcc44d6817"><span class="id" title="binder">Γ</span></a>:<a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} (<a id="m:170" class="idref" href="#m:170"><span class="id" title="binder">m</span></a>:<a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:167"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#A:168"><span class="id" title="variable">A</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#69fb8d53ff71bb87999e9dfcc44d6817"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#c7859fe5d42efae890c4404dada70253"><span class="id" title="notation">Ω</span></a>) (<a id="e:171" class="idref" href="#e:171"><span class="id" title="binder">e</span></a>:<a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:167"><span class="id" title="variable">T</span></a>) : @<a class="idref" href="AffineConstructive.interfaces.set.html#IsFun"><span class="id" title="class">IsFun</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#69fb8d53ff71bb87999e9dfcc44d6817"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#c7859fe5d42efae890c4404dada70253"><span class="id" title="notation">Ω</span></a> (<a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="u:172" class="idref" href="#u:172"><span class="id" title="binder">u</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#69fb8d53ff71bb87999e9dfcc44d6817"><span class="id" title="variable">Γ</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#f5a0e3ebec0e010c8cd54c9b4bde0147"><span class="id" title="notation">∐</span></a> <a id="x:173" class="idref" href="#x:173"><span class="id" title="binder">x</span></a> : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#A:168"><span class="id" title="variable">A</span></a><a class="idref" href="AffineConstructive.interfaces.aprop.html#f5a0e3ebec0e010c8cd54c9b4bde0147"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#m:170"><span class="id" title="variable">m</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:171"><span class="id" title="variable">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#x:173"><span class="id" title="variable">x</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#u:172"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">change</span> (?<span class="id" title="var">P</span> <a class="idref" href="AffineConstructive.interfaces.relation_notation.html#6b9a5c160360edefd992463ff8bf70e9"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">Q</span> <a class="idref" href="AffineConstructive.interfaces.relation_notation.html#6b9a5c160360edefd992463ff8bf70e9"><span class="id" title="notation">:&gt;</span></a> <a class="idref" href="AffineConstructive.theory.set.html#AProp_set"><span class="id" title="definition">AProp_set</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">P</span> <a class="idref" href="AffineConstructive.interfaces.aprop.html#e7bd42d4334a552a3675b1fcb5a98c3d"><span class="id" title="notation">⧟</span></a> <span class="id" title="var">Q</span>). <span class="id" title="var">rew</span> &lt;-(<a class="idref" href="AffineConstructive.logic.aprop.html#aex_aiff"><span class="id" title="definition">aex_aiff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>), &lt;-<a class="idref" href="AffineConstructive.logic.aprop.html#all_adj"><span class="id" title="definition">all_adj</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span> (<a class="idref" href="AffineConstructive.interfaces.set.html#is_fun"><span class="id" title="definition">is_fun</span></a> (<span class="id" title="var">m</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">e</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="all_mor" class="idref" href="#all_mor"><span class="id" title="definition">all_mor@</span></a>{<span class="id" title="var">i</span>} {<a id="T:174" class="idref" href="#T:174"><span class="id" title="binder">T</span></a> <a id="A:175" class="idref" href="#A:175"><span class="id" title="binder">A</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="dd29608376d32c01cb947fcc1b16b126" class="idref" href="#dd29608376d32c01cb947fcc1b16b126"><span class="id" title="binder">Γ</span></a>:<a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} (<a id="m:177" class="idref" href="#m:177"><span class="id" title="binder">m</span></a>:<a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:174"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#A:175"><span class="id" title="variable">A</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#dd29608376d32c01cb947fcc1b16b126"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#c7859fe5d42efae890c4404dada70253"><span class="id" title="notation">Ω</span></a>) : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:174"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#dd29608376d32c01cb947fcc1b16b126"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#c7859fe5d42efae890c4404dada70253"><span class="id" title="notation">Ω</span></a> := <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:178" class="idref" href="#e:178"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> @<a class="idref" href="AffineConstructive.interfaces.set.html#make_fun"><span class="id" title="definition">make_fun</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AffineConstructive.tactics.set_internalize.html#all_mor_prop"><span class="id" title="lemma">all_mor_prop</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#m:177"><span class="id" title="variable">m</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:178"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="aex_mor" class="idref" href="#aex_mor"><span class="id" title="definition">aex_mor@</span></a>{<span class="id" title="var">i</span>} {<a id="T:179" class="idref" href="#T:179"><span class="id" title="binder">T</span></a> <a id="A:180" class="idref" href="#A:180"><span class="id" title="binder">A</span></a>:<span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="bec8080d891bb4c9bb44cd1cc5bbd275" class="idref" href="#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="binder">Γ</span></a>:<a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">set@</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">{</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">i</span></a><a class="idref" href="AffineConstructive.interfaces.set.html#set"><span class="id" title="record">}</span></a>} (<a id="m:182" class="idref" href="#m:182"><span class="id" title="binder">m</span></a>:<a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:179"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#A:180"><span class="id" title="variable">A</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#c7859fe5d42efae890c4404dada70253"><span class="id" title="notation">Ω</span></a>) : <a class="idref" href="AffineConstructive.tactics.set_internalize.html#T:179"><span class="id" title="variable">T</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="variable">Γ</span></a> <a class="idref" href="AffineConstructive.interfaces.set.html#b0e233f2f2b3c047123c6b17789ec7e0"><span class="id" title="notation">⇾</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#c7859fe5d42efae890c4404dada70253"><span class="id" title="notation">Ω</span></a> := <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="e:183" class="idref" href="#e:183"><span class="id" title="binder">e</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> @<a class="idref" href="AffineConstructive.interfaces.set.html#make_fun"><span class="id" title="definition">make_fun</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AffineConstructive.tactics.set_internalize.html#aex_mor_prop"><span class="id" title="lemma">aex_mor_prop</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#m:182"><span class="id" title="variable">m</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#e:183"><span class="id" title="variable">e</span></a>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">interpret_quantifier</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.aprop.html#all"><span class="id" title="definition">all</span></a> ?<span class="id" title="var">P</span> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>@<a class="idref" href="AffineConstructive.tactics.set_internalize.html#all_mor"><span class="id" title="definition">all_mor</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">P</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.aprop.html#aex"><span class="id" title="definition">aex</span></a> ?<span class="id" title="var">P</span> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>@<a class="idref" href="AffineConstructive.tactics.set_internalize.html#aex_mor"><span class="id" title="definition">aex_mor</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">P</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a> ?<span class="id" title="var">quant_mor</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="binder:185" class="idref" href="#binder:185"><span class="id" title="binder">binder</span></a> : ?<span class="id" title="var">T</span><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">body</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">inner_tac</span> <span class="id" title="var">var</span> <span class="id" title="var">b</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Ξ'</span> := <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.prelude.html#pair"><span class="id" title="constructor">pair</span></a> <span class="id" title="var">Ξ</span> <span class="id" title="var">var</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">b</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span>  <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">Y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">body'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#c7859fe5d42efae890c4404dada70253"><span class="id" title="notation">Ω</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">quant_mor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">body'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">eval_under_binder_pair</span> <span class="id" title="var">inner_tac</span> <span class="id" title="var">binder</span> <span class="id" title="var">T</span> <span class="id" title="var">body</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">tm'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.aprop.html#all"><span class="id" title="definition">all</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#c7859fe5d42efae890c4404dada70253"><span class="id" title="notation">Ω</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#all"><span class="id" title="definition">all</span></a> <span class="id" title="var">tm'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.aprop.html#aex"><span class="id" title="definition">aex</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:( <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#c7859fe5d42efae890c4404dada70253"><span class="id" title="notation">Ω</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> <a class="idref" href="AffineConstructive.interfaces.aprop.html#aex"><span class="id" title="definition">aex</span></a> <span class="id" title="var">tm'</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">_</span> := <span class="id" title="var">debug_msg</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span> "interpret" "Ξ=" <span class="id" title="var">Ξ</span> "Γ=" <span class="id" title="var">Γ</span> "tm=" <span class="id" title="var">tm</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="pat:190" class="idref" href="#pat:190"><span class="id" title="binder">pat</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">let</span> <a id="x:191" class="idref" href="#x:191"><span class="id" title="binder">x</span></a> := <a class="idref" href="AffineConstructive.tactics.set_internalize.html#pat:186"><span class="id" title="variable">pat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <a id="binder1:192" class="idref" href="#binder1:192"><span class="id" title="binder">binder1</span></a> := <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj1"><span class="id" title="projection">proj1</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#x:187"><span class="id" title="variable">x</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <a id="binder2:193" class="idref" href="#binder2:193"><span class="id" title="binder">binder2</span></a> := <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj2"><span class="id" title="projection">proj2</span></a> <a class="idref" href="AffineConstructive.tactics.set_internalize.html#x:187"><span class="id" title="variable">x</span></a> <span class="id" title="tactic">in</span> ?<span class="id" title="var">body</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">interpret_pair_abstraction</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="binder:195" class="idref" href="#binder:195"><span class="id" title="binder">binder</span></a> : ?<span class="id" title="var">T</span><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">body</span> ⇒ <span class="id" title="var">interpret_abstraction</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.set_lambda.notation.html#set_lambda"><span class="id" title="definition">set_lambda</span></a> ?<span class="id" title="var">f</span> ⇒ <span class="id" title="var">interpret_abstraction</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.subset.notation.html#subset_comprehension"><span class="id" title="definition">subset_comprehension</span></a> ?<span class="id" title="var">f</span> ⇒ <span class="id" title="var">interpret_subset_comprehension</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;| <span class="id" title="keyword">let</span> <a id="binder:197" class="idref" href="#binder:197"><span class="id" title="binder">binder</span></a> := <span class="id" title="var">_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">interpret_let_in</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.set.html#func_op"><span class="id" title="projection">func_op</span></a> (<a class="idref" href="AffineConstructive.interfaces.set.html#func_op"><span class="id" title="projection">func_op</span></a> <a class="idref" href="AffineConstructive.theory.set.html#prod_pair"><span class="id" title="definition">prod_pair</span></a> ?<span class="id" title="var">x</span>) ?<span class="id" title="var">y</span> ⇒ <span class="id" title="var">interpret_prod_pair</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.set.html#func_op"><span class="id" title="projection">func_op</span></a> ?<span class="id" title="var">f</span> ?<span class="id" title="var">x</span> ⇒ <span class="id" title="var">interpret_application</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="binder:199" class="idref" href="#binder:199"><span class="id" title="binder">binder</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">body</span><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">)</span></a> <a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">?</span></a><a class="idref" href="AffineConstructive.interfaces.notation.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">x</span></a> ⇒ <span class="id" title="var">interpret_application</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a>?<span class="id" title="var">x</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">y</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="var">interpret_pair</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj1"><span class="id" title="projection">proj1</span></a> ?<span class="id" title="var">x</span> ⇒ <span class="id" title="var">interpret_projection</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.prelude.html#proj2"><span class="id" title="projection">proj2</span></a> ?<span class="id" title="var">x</span> ⇒ <span class="id" title="var">interpret_projection</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.aprop.html#all"><span class="id" title="definition">all</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">interpret_quantifier</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.aprop.html#aex"><span class="id" title="definition">aex</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">interpret_quantifier</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">tm_is_var</span> := <span class="id" title="keyword">constr</span>:( <span class="id" title="keyword">ltac</span>:( <span class="id" title="tactic">solve</span> [ <span class="id" title="var">is_var</span> <span class="id" title="var">tm</span>; <span class="id" title="tactic">exact</span> <a class="idref" href="AffineConstructive.interfaces.sprop.html#True"><span class="id" title="inductive">True</span></a> | <span class="id" title="tactic">exact</span> <a class="idref" href="AffineConstructive.interfaces.sprop.html#False"><span class="id" title="inductive">False</span></a> ] ) ) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">tm_is_var</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.sprop.html#True"><span class="id" title="inductive">True</span></a> ⇒ <span class="id" title="var">env_lookup</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AffineConstructive.interfaces.sprop.html#False"><span class="id" title="inductive">False</span></a> ⇒ <span class="id" title="var">interpret_coerce_app_or_const</span> <span class="id" title="var">interpret</span> <span class="id" title="var">Ξ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">tm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "set_internalize_tac" <span class="id" title="var">open_constr</span>(<span class="id" title="var">tm</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">interpret</span> <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.interfaces.prelude.html#tt"><span class="id" title="constructor">tt</span></a>) <span class="id" title="keyword">constr</span>:(<a class="idref" href="AffineConstructive.tactics.set_internalize.html#Environment_Empty"><span class="id" title="constructor">Environment_Empty</span></a>) <span class="id" title="var">tm</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">res</span> <span class="id" title="keyword">with</span> <a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">tm</span><a class="idref" href="AffineConstructive.interfaces.notation.html#0d8cf0893fac4d159028bab1792de6ef"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="tactic">exact</span> <span class="id" title="var">tm</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>